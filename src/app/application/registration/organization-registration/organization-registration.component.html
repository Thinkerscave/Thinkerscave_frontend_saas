<div class="org-container">
    <p-card class="mb-5">
        <p-tabs value="0">
            <p-tablist>
                <p-tab value="0">Add</p-tab>
                <p-tab value="1">View</p-tab>
            </p-tablist>
            <p-tabpanels>
                <p-tabpanel value="0">

                    <div class="grid gap-4">
                        <!-- EJ Group -->
                        <div class="col-6 md:col-4">
                            <label class="font-bold mb-2 block">Is a Group</label>
                            <div class="flex gap-3 align-items-center">
                                <p-radioButton name="aGroup" [value]="true" [(ngModel)]="isAGroup"
                                    inputId="isYes"></p-radioButton>
                                <label for="isYes">Yes</label>
                                <p-radioButton name="aGroup" [value]="false" [(ngModel)]="isAGroup"
                                    inputId="isNo"></p-radioButton>
                                <label for="isNo">No</label>
                            </div>
                        </div>

                        <div class="col-6 md:col-4" *ngIf="!isAGroup">
                            <label for="parentOrg" class="mb-2 block">Parent Organization</label>
                            <p-dropdown inputId="parentOrg" [options]="parentOrganizations"
                                [(ngModel)]="selectedParentOrg" placeholder="Select Parent Organization"
                                optionLabel="name" class="w-full"></p-dropdown>
                        </div>

                        <!-- Organization Section -->
                        <div class="col-12">
                            <h5 class="mt-3 mb-2 border-bottom-1 surface-border pb-2 font-semibold text-lg">
                                Organization Details
                            </h5>
                        </div>

                        <!-- Organization Name -->
                        <div class="col-12 md:col-4">
                            <label for="orgName" class="mb-2 block">Organization Name</label>
                            <input id="orgName" type="text" pInputText [(ngModel)]="orgName" class="w-full" />
                        </div>

                        <!-- Brand Name -->
                        <div class="col-12 md:col-3">
                            <label for="brandName" class="mb-2 block">Brand Name</label>
                            <input id="brandName" type="text" pInputText [(ngModel)]="brandName" class="w-full" />
                        </div>

                        <!-- Organization URL -->
                        <div class="col-12 md:col-3">
                            <label for="orgUrl" class="mb-2 block">Organization URL</label>
                            <input id="orgUrl" type="text" pInputText [(ngModel)]="orgUrl" class="w-full" />
                        </div>

                        <!-- Organization Type -->
                        <div class="col-12 md:col-4">
                            <label for="orgType" class="mb-2 block">Organization Type</label>
                            <p-dropdown inputId="orgType" [options]="organizationTypes" [(ngModel)]="selectedOrgType"
                                placeholder="Select Type" optionLabel="label" class="w-full">
                            </p-dropdown>
                        </div>

                        <!-- City -->
                        <div class="col-12 md:col-3">
                            <label for="city" class="mb-2 block">City</label>
                            <input id="city" type="text" pInputText [(ngModel)]="city" class="w-full" />
                        </div>

                        <!-- State -->
                        <div class="col-12 md:col-3">
                            <label for="state" class="mb-2 block">State</label>
                            <input id="state" type="text" pInputText [(ngModel)]="state" class="w-full" />
                        </div>

                        <!-- Establishment Date -->
                        <div class="col-12 md:col-4">
                            <label for="estDate" class="mb-2 block">Establishment Date</label>
                            <p-calendar id="estDate" [(ngModel)]="establishDate" dateFormat="dd/mm/yy"
                                class="w-full"></p-calendar>
                        </div>

                        <!-- Subscription Type -->
                        <div class="col-12 md:col-3">
                            <label for="subscription" class="mb-2 block">Subscription Type</label>
                            <p-dropdown inputId="subscription" [options]="subscriptionTypes"
                                [(ngModel)]="selectedSubscription" placeholder="Select Subscription" class="w-full">
                            </p-dropdown>
                        </div>


                        <!-- Owner Section -->
                        <div class="col-12">
                            <h5 class="mt-3 mb-2 border-bottom-1 surface-border pb-2 font-semibold text-lg">Owner
                                Details</h5>
                        </div>

                        <div class="col-12 md:col-3">
                            <label for="ownerName" class="mb-2 block">Owner Name</label>
                            <input id="ownerName" type="text" pInputText [(ngModel)]="ownerName" class="w-full" />
                        </div>

                        <div class="col-12 md:col-3">
                            <label for="ownerEmail" class="mb-2 block">Owner Email</label>
                            <input id="ownerEmail" type="email" pInputText [(ngModel)]="ownerEmail" class="w-full" />
                        </div>

                        <div class="col-12 md:col-3">
                            <label for="ownerMobile" class="mb-2 block">Owner Mobile</label>
                            <input id="ownerMobile" type="text" pInputText [(ngModel)]="ownerMobile" class="w-full" />
                        </div>

                        <div class="col-12 mt-4">
                            <div class="flex gap-3">
                                <button pButton label="Submit" class="p-button-success" type="submit"></button>
                                <button pButton label="Cancel" class="p-button-secondary" type="button"></button>
                            </div>
                        </div>
                    </div>
                </p-tabpanel>

                <p-tabpanel value="1">
                    <p-table [value]="organizations" [paginator]="true" [rows]="5" [responsiveLayout]="'scroll'"
                        [showCurrentPageReport]="true"
                        currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                        class="p-datatable-sm">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Organization Name</th>
                                <th>Brand Name</th>
                                <th>URL</th>
                                <th>Type</th>
                                <th>City</th>
                                <th>State</th>
                                <th>Est. Date</th>
                                <th>Owner Name</th>
                                <th>Owner Email</th>
                                <th>Owner Mobile</th>
                                <th>Actions</th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-org>
                            <tr>
                                <td>{{ org.orgName }}</td>
                                <td>{{ org.brandName }}</td>
                                <td>{{ org.orgUrl }}</td>
                                <td>{{ org.orgType }}</td>
                                <td>{{ org.city }}</td>
                                <td>{{ org.state }}</td>
                                <td>{{ org.establishDate | date: 'dd/MM/yyyy' }}</td>
                                <td>{{ org.ownerName }}</td>
                                <td>{{ org.ownerEmail }}</td>
                                <td>{{ org.ownerMobile }}</td>
                                <td>
                                    <div class="flex gap-2">
                                        <button pButton icon="pi pi-pencil"
                                            class="p-button-rounded p-button-warning p-button-sm"
                                            (click)="editOrganization(org)" pTooltip="Edit">
                                        </button>
                                        <button pButton icon="pi pi-trash"
                                            class="p-button-rounded p-button-danger p-button-sm"
                                            (click)="deleteOrganization(org)" pTooltip="Delete">
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>
                </p-tabpanel>

            </p-tabpanels>
        </p-tabs>
    </p-card>
</div>