<div class="card">
    <h3 class="mb-4">{{ isEditMode ? 'Edit Submenu' : 'Create Submenu' }}</h3>

    <form [formGroup]="submenuForm" (ngSubmit)="onSubmit()">
        <div class="formgrid grid">
            
            <div class="field col-12 md:col-6">
                <label for="menuId">Menu Name</label>
                <p-dropdown id="menuId" [options]="parentMenus" formControlName="menuId"
                    optionLabel="name" optionValue="id" placeholder="Select a  Menu"
                    styleClass="w-full"></p-dropdown>
            </div>

            <div class="field col-12 md:col-6">
                <label for="submenuName">Submenu Name</label>
                <input id="submenuName" type="text" pInputText formControlName="submenuName" class="w-full" />
            </div>

            <div *ngIf="isEditMode" class="field col-12 md:col-6">
                <label for="submenuCode">Submenu Code</label>
                <input id="submenuCode" type="text" pInputText formControlName="submenuCode" class="w-full" />
            </div>

            <div class="field col-12 md:col-6">
                <label for="submenuUrl">Submenu URL</label>
                <input id="submenuUrl" type="text" pInputText formControlName="submenuUrl" placeholder="/dashboard/analytics" class="w-full" />
            </div>

            <div class="field col-12 md:col-6">
                <label for="submenuDescription">Submenu Description</label>
                <textarea id="submenuDescription" pInputTextarea formControlName="submenuDescription" rows="3" class="w-full"></textarea>
            </div>
            
            <div class="field col-12">
                <label for="submenuLogo">Submenu Logo</label>
                <p-fileUpload name="submenuLogo[]" (onSelect)="onLogoUpload($event)"
                    [multiple]="false" accept="image/*" [maxFileSize]="1000000"
                    chooseIcon="pi pi-upload" chooseLabel="Choose Logo">
                </p-fileUpload>
            </div>

        </div>

        <div class="flex justify-content-end mt-4">
            <p-button [label]="isEditMode ? 'Update Submenu' : 'Create Submenu'" 
                icon="pi pi-check" type="submit" [disabled]="submenuForm.invalid"></p-button>
        </div>
    </form>
</div>